{% extends 'base_back.html.twig' %}

{% block title %}Admin{% endblock %}

{% block body %}
    <div class="flex bg-gray-100 min-h-screen">
        {% block sidebar %}
            {% include '_sidebar.html.twig' %}
        {% endblock %}
        <div class="flex-grow text-gray-800">
            {% block header %}
            {% include '_header.html.twig' %}
            {% endblock %}

            {% block main %}
                <main class="p-6 sm:p-10 space-y-6">
                    <div class="flex flex-col space-y-6 md:space-y-0 md:flex-row justify-between">
                        <div class="mr-6">
                            <h1 class="text-4xl font-semibold mb-2">Gestion d'utilisateurs</h1>
                            <h2 class="text-gray-600 ml-0.5">Liste</h2>
                        </div>
                    </div>
                    <div class="flex flex-wrap items-start justify-end -mb-3">
                        <a type="button" data-bs-toggle="modal" data-bs-target="#modalAddUser" class="inline-flex px-5 py-3 text-white bg-purple-600 hover:bg-purple-700 focus:bg-purple-700 rounded-md ml-6 mb-3">
                            <i class="flex-shrink-0 h-6 w-6 text-white -ml-1 mr-2 fa-solid fa-plus"></i>      
                            Ajouter un utilisateur
                        </a>
                    </div>
                    <section>
                        <div id="datatable">
                        
                        </div>
                    </section>

                    <div class="modal fade fixed top-0 left-0 hidden w-full h-full outline-none overflow-x-hidden overflow-y-auto" id="modalAddUser" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog relative w-auto pointer-events-none">
                            <div class="modal-content border-none shadow-lg relative flex flex-col w-full pointer-events-auto bg-white bg-clip-padding rounded-md outline-none text-current">
                                <div class="modal-header flex flex-shrink-0 items-center justify-between p-4 border-b border-gray-200 rounded-t-md">
                                    <h5 class="text-xl font-medium leading-normal text-gray-800" id="exampleModalLabel">Cr√©er un nouvel utilisateur</h5>
                                    <button type="button"
                                    class="btn-close box-content w-4 h-4 p-1 text-black border-none rounded-none opacity-50 focus:shadow-none focus:outline-none focus:opacity-100 hover:text-black hover:opacity-75 hover:no-underline"
                                    data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body relative p-4">
                                    <form>
                                        {{ form_start(formCreateUser) }}
                                        <div class="form-group mb-6">
                                        <label for="emailUser" class="form-label inline-block mb-2 text-gray-700">Email</label>
                                            {{ form_widget(formCreateUser.email) }}
                                        </div>
                                        <div class="form-group mb-6">
                                            {% for child in formCreateUser.roles %}
                                                <div class="form-check form-check-inline">
                                                    {{ form_widget(child) }}
                                                    {{ form_label(child, null, {'label_attr': {'class': 'form-check-label inline-block mb-2 text-gray-700'}}) }}
                                                </div>
                                            {% endfor %}
                                        <div class="form-group mb-6">
                                        <label for="passwordUser" class="form-label inline-block mb-2 text-gray-700">Mot de passe</label>
                                            {{ form_widget(formCreateUser.password) }}
                                        </div>
                                        <div class="form-group mb-6">
                                        <label for="nameUser" class="form-label inline-block mb-2 text-gray-700">Nom</label>
                                            {{ form_widget(formCreateUser.name) }}
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer flex flex-shrink-0 flex-wrap items-center justify-end p-4 border-t border-gray-200 rounded-b-md">
                                    <button type="button" class="px-6
                                    py-2.5
                                    bg-purple-600
                                    text-white
                                    font-medium
                                    text-xs
                                    leading-tight
                                    uppercase
                                    rounded
                                    shadow-md
                                    hover:bg-purple-700 hover:shadow-lg
                                    focus:bg-purple-700 focus:shadow-lg focus:outline-none focus:ring-0
                                    active:bg-purple-800 active:shadow-lg
                                    transition
                                    duration-150
                                    ease-in-out" data-bs-dismiss="modal">Annuler</button>
                                    {{ form_widget(formCreateUser.submit, { 'label': 'Valider' }) }}
                                </div>
                                {{ form_end(formCreateUser) }}
                            </div>
                        </div>
                    </div>
                </main>
            {% endblock %}
        </div>
    </div>
{% endblock %}
