{% extends 'base.html.twig' %}

{% block title %}

{% endblock %}

{% block body %}
  <h5 class="text-2xl dark:text-gray-700" style="margin-top:2rem; text-align:center">Détail de la demande d'échange</h5>
  <div class="flex flex-col mx-auto justify-center flex-wrap mt-[2rem]">
    <div class="w-1/2 p-6 bg-white rounded-lg shadow dark:bg-white dark:border-gray-700 shadow-lg shadow-indigo-500/50" style="margin:auto; margin-bottom:1rem">
      <h5 class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-gray-700">Demande d'échange pour l'objet <a class="underline" href="{{ path('front_app_user_show_public', { id: deal.secondUserObject.id }) }}">{{ deal.secondUserObject.name }}</a></h5>
      <span class="text-xs font-normal py-1 px-2 uppercase rounded-full text-pink-600 bg-pink-200 uppercase last:mr-0 mr-1">Statut actul de la demande : {{ deal.status }}</span>
      <p class="mb-1 font-normal text-gray-300 dark:text-gray-900">
        <b>Statut actul de l'objet</b>: {{ deal.secondUserObject.status }}
      </p>
      <p class="mb-1 font-normal text-gray-300 dark:text-gray-900">
        <b>Objet</b>: {{ deal.secondUserObject.isVerified ? 'vérifié' : 'non verifié' }}
      </p>
      <p class="mb-1 font-normal text-gray-300 dark:text-gray-900">
        <b>Statut de la demande</b>: {{ deal.firstUserResponse ? '' : '' }}
      </p>

      <p class="mb-1 font-normal text-gray-300 dark:text-gray-900">
        <b>Demande envoyé par</b>: {{ deal.secondUser.email }}
      </p>

      <div class="flex">
        <a href="{{ path('front_app_items_show', { id: deal.firstUser.id }) }}" class="inline-flex items-center px-3 py-2 mr-[1rem] text-sm font-medium text-center text-white bg-gray-700 rounded-lg hover:bg-gray-800 focus:ring-4 focus:outline-none focus:ring-gray-300 dark:bg-gray-600 dark:hover:bg-gray-700 dark:focus:ring-gray-800">Explorer</a>
        <a href="#" class="inline-flex items-center px-3 py-2 mr-[1rem] text-sm font-medium text-center text-white bg-green-500 rounded-lg hover:bg-green-800"><b>Accepter l'échange</b></a>
        <a href="#" class="inline-flex items-center px-3 py-2 mr-[1rem] text-sm font-medium text-center text-white bg-yellow-500 rounded-lg hover:bg-yellow-800"><b>Refuser l'échange</b></a>

        {% if deal %}
          <form method="post" action="{{ path('front_app_deal_delete', { id: deal.id }) }}" onsubmit="return confirm('Are you sure you want to delete this item?');">
            <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ deal.id) }}" />
            <button class="inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white bg-red-600 rounded-lg hover:bg-red-800">Supprimer la demande</button>
          </form>
        {% endif %}
      </div>
    </div>
  </div>

  {# <table class="table">
    <tbody>
      <tr>
        <th>Id</th>
        <td>{{ deal.id }}</td>
      </tr>
      <tr>
        <th>Status</th>
        <td>{{ deal.status }}</td>
      </tr>
      <tr>
        <th>FirstUserResponse</th>
        <td>{{ deal.firstUserResponse ? 'Yes' : 'No' }}</td>
      </tr>
      <tr>
        <th>SecondeUserResponse</th>
        <td>{{ deal.secondeUserResponse ? 'Yes' : 'No' }}</td>
      </tr>
    </tbody>
  </table> #}

  {# <a href="{{ path('front_app_deal_index') }}">back to list</a>

  <a href="{{ path('front_app_deal_edit', { id: deal.id }) }}">edit</a> #}

  {# <form method="post" action="{{ path('front_app_deal_delete', { id: deal.id }) }}" onsubmit="return confirm('Are you sure you want to delete this item?');">
    <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ deal.id) }}" />
    <button class="inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white bg-red-600 rounded-lg hover:bg-red-800">Supprimer la demande</button>
  </form> #}
{% endblock %}
